# üîß –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ø–æ—Ä—è–¥–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

404 –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ Express.

## –ü—Ä–∏—á–∏–Ω–∞

Express —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ –ø–æ—Ä—è–¥–∫—É –æ–±—ä—è–≤–ª–µ–Ω–∏—è:
```javascript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
router.get('/:videoId/transcript', ...)       // –õ–æ–≤–∏—Ç /download –∫–∞–∫ videoId
router.get('/:videoId/transcript/download', ...) // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è
```

## –†–µ—à–µ–Ω–∏–µ

–ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ü–ï–†–ï–î –æ–±—â–∏–º–∏:
```javascript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
router.get('/:videoId/transcript/download', ...) // –°–Ω–∞—á–∞–ª–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π
router.get('/:videoId/transcript', ...)          // –ü–æ—Ç–æ–º –æ–±—â–∏–π
```

---

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ `backend/src/routes/videos.js`
2. ‚úÖ –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## –î–µ–ø–ª–æ–π

```bash
cd backend
git pull
pm2 restart all
# –∏–ª–∏
pm2 restart yt-zavod-backend
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç
curl "https://elitesphere.ru/api/videos/NiSuZilaClQ/transcript/download"
```

---

## WebSocket –æ—à–∏–±–∫–∏

–û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
WebSocket connection to 'ws://localhost:3000/socket.io/' failed
```

**–≠—Ç–æ –ù–ï –∫—Ä–∏—Ç–∏—á–Ω–æ** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤. WebSocket –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è:
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á

**–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Socket.IO –∑–∞–ø—É—â–µ–Ω
pm2 logs yt-zavod-backend | grep Socket

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "üîå WebSocket: –∞–∫—Ç–∏–≤–µ–Ω"
```

–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `backend/src/server.js`:
- Socket.IO –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- –ü–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç

**–ù–æ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤ —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ!**

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ö–Ω–æ–ø–∫–∞ –≤ UI:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://elitesphere.ru/download
   - –ù–∞–∂–º–∏—Ç–µ "–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç"
   - –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è

2. **Google Sheets:**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ —Å—Å—ã–ª–∫—É –≤ –∫–æ–ª–æ–Ω–∫–µ M
   - –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è

3. **–ü—Ä—è–º–æ–π API:**
   ```bash
   curl -v "https://elitesphere.ru/api/videos/NiSuZilaClQ/transcript/download"
   ```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é
