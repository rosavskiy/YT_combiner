# 🎬 YT Combiner - Генератор видеоконтента

Современное веб-приложение для мониторинга YouTube трендов в 19 странах и автоматической генерации видеоконтента.

---

## ✨ Что уже реализовано

### ✅ Backend (Node.js + Express)
- 🌍 **YouTube Trends API** - получение трендов из 19 стран
- 🔌 **WebSocket (Socket.IO)** - real-time обновления прогресса
- 📊 **MongoDB** - хранение трендов и истории
- 🎯 **RESTful API** - полноценный API для работы с данными
- ⚡ **Bull Queues** - очереди для скачивания видео
- 🏗️ **Модульная архитектура** - легко расширяемая структура

### ✅ Frontend (React + Vite)
- 🎨 **Ant Design UI** - современный и красивый интерфейс
- 📱 **Адаптивный дизайн** - работает на любых устройствах
- 🔄 **React Query** - умное кэширование данных
- 💾 **Zustand** - легковесный state management
- 🔌 **Socket.IO Client** - real-time обновления
- 🎯 **5 основных страниц**:
  - Dashboard - обзор системы
  - Тренды - мониторинг 19 стран
  - Скачивание - загрузка видео
  - Генератор - создание контента
  - Настройки - конфигурация API

### ✅ Конфигурация
- 🌍 **19 стран**: США, Канада, Финляндия, Швеция, Швейцария, Норвегия, Германия, Англия, Франция, Бельгия, Нидерланды, Ирландия, Дания, Австрия, Австралия, Новая Зеландия, Израиль, Сингапур, Исландия
- 🔐 **.env файл** - готов для вашего API ключа
- 📝 **Подробная документация** - README, QUICK_START

---

## 🚀 Быстрый старт

### 1️⃣ Установите зависимости

#### Backend:
```powershell
cd backend
npm install
```

#### Frontend:
```powershell
cd frontend
npm install
```

### 2️⃣ Настройте API ключ

Откройте файл `.env` в корне проекта и добавьте ваш YouTube API ключ:
```
YOUTUBE_API_KEY=ваш_ключ_здесь
```

**Как получить ключ:**
1. Перейдите на https://console.cloud.google.com/
2. Создайте проект
3. Включите "YouTube Data API v3"
4. Создайте API ключ в разделе Credentials

### 3️⃣ Запустите приложение

**Вариант A: Используя скрипты (рекомендуется)**

Откройте 2 терминала PowerShell:

```powershell
# Терминал 1 - Backend
.\start-backend.ps1

# Терминал 2 - Frontend
.\start-frontend.ps1
```

**Вариант B: Вручную**

```powershell
# Терминал 1
cd backend
npm run dev

# Терминал 2
cd frontend
npm run dev
```

### 4️⃣ Откройте в браузере

- Frontend: **http://localhost:5173**
- Backend API: **http://localhost:3000**

---

## 📊 Архитектура

```
┌─────────────────────────────────────────────────────┐
│                   FRONTEND (React)                   │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐          │
│  │Dashboard │  │ Trends   │  │Generator │          │
│  └──────────┘  └──────────┘  └──────────┘          │
│         ↓ REST API + WebSocket ↓                    │
└─────────────────────────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────┐
│              BACKEND (Node.js + Express)             │
│  ┌──────────────┐  ┌───────────┐  ┌──────────┐     │
│  │YouTube API   │  │ Socket.IO │  │ Bull     │     │
│  │Integration   │  │ Real-time │  │ Queues   │     │
│  └──────────────┘  └───────────┘  └──────────┘     │
└─────────────────────────────────────────────────────┘
         ↓                    ↓
┌──────────────┐    ┌──────────────────┐
│   MongoDB    │    │ Python Workers   │
│   (Trends)   │    │ (Video Process)  │
└──────────────┘    └──────────────────┘
```

---

## 📁 Структура файлов

```
YT_combiner/
├── 📄 .env                      # Конфигурация (ВАШ API КЛЮЧ СЮДА!)
├── 📄 .env.example              # Пример конфигурации
├── 📄 .gitignore                # Git исключения
├── 📄 README.md                 # Основная документация
├── 📄 QUICK_START.md            # Быстрый старт
├── 📄 start-backend.ps1         # Скрипт запуска Backend
├── 📄 start-frontend.ps1        # Скрипт запуска Frontend
│
├── 📁 backend/                  # Node.js Backend
│   ├── 📁 src/
│   │   ├── 📁 config/          # Конфигурация (страны, БД)
│   │   ├── 📁 models/          # Mongoose модели
│   │   ├── 📁 routes/          # API эндпоинты
│   │   ├── 📁 services/        # YouTube API интеграция
│   │   └── 📄 server.js        # Главный файл сервера
│   └── 📄 package.json
│
├── 📁 frontend/                 # React Frontend
│   ├── 📁 src/
│   │   ├── 📁 components/      # React компоненты
│   │   ├── 📁 pages/           # Страницы (Dashboard, Trends...)
│   │   ├── 📁 services/        # API клиент
│   │   ├── 📁 stores/          # Zustand state
│   │   └── 📄 App.jsx          # Главный компонент
│   ├── 📄 vite.config.js       # Vite конфигурация
│   └── 📄 package.json
│
└── 📁 python-workers/           # Python микросервисы (TODO)
    ├── 📄 app.py
    └── 📄 requirements.txt
```

---

## 🎯 Текущий функционал

### ✅ Работает прямо сейчас:

1. **Мониторинг трендов**
   - Получение топ-50 видео из каждой из 19 стран
   - Real-time отображение прогресса загрузки
   - Сохранение в MongoDB
   - Фильтрация по странам
   - Сортировка по просмотрам/лайкам

2. **Dashboard**
   - Статистика по странам и видео
   - Статус подключения
   - Быстрый доступ к функциям

3. **Настройки**
   - Сохранение API ключа локально
   - Инструкции по получению ключа
   - Полезные ссылки

---

## 🔜 В разработке

- ⏳ Скачивание видео через yt-dlp
- ⏳ Python worker для обработки видео
- ⏳ Whisper для распознавания речи
- ⏳ Автоматический перевод субтитров
- ⏳ Генерация голоса на разных языках
- ⏳ Монтаж видео с MoviePy
- ⏳ Загрузка обратно на YouTube

---

## 🛠️ Технологии

### Backend
- **Node.js** - JavaScript runtime
- **Express** - Web framework
- **Socket.IO** - Real-time коммуникация
- **Mongoose** - MongoDB ODM
- **Bull** - Очереди задач
- **googleapis** - YouTube API клиент
- **ytdl-core** - Скачивание видео

### Frontend
- **React 18** - UI библиотека
- **Vite** - Сборщик (супер быстрый!)
- **Ant Design** - UI компоненты
- **React Query** - Data fetching
- **Zustand** - State management
- **Socket.IO Client** - WebSocket клиент
- **Axios** - HTTP клиент
- **Recharts** - Графики (для будущих дашбордов)

### Python (планируется)
- **yt-dlp** - Продвинутое скачивание
- **Whisper** - Распознавание речи
- **MoviePy** - Редактирование видео
- **gTTS** - Text-to-Speech
- **deep-translator** - Переводы

---

## 📝 API Эндпоинты

### Тренды
```
GET    /api/trends/countries     # Список 19 стран
POST   /api/trends/fetch-all     # Загрузить тренды
POST   /api/trends/fetch-region  # Тренды одной страны
GET    /api/trends/latest        # Последние тренды
GET    /api/trends/history       # История загрузок
GET    /api/trends/:id           # Конкретный набор
```

### Видео
```
POST   /api/videos/download      # Скачать видео
GET    /api/videos/info/:id      # Информация о видео
GET    /api/videos/status/:id    # Статус скачивания
GET    /api/videos/downloaded    # Список скачанных
```

### Генератор
```
POST   /api/generator/translate  # Генерация с переводом
GET    /api/generator/status/:id # Статус генерации
GET    /api/generator/languages  # Языки
```

---

## 🎓 Как это использовать

### Шаг 1: Получение трендов

1. Откройте страницу **"Настройки"**
2. Вставьте ваш YouTube API ключ
3. Сохраните
4. Перейдите на **"Тренды"**
5. Нажмите **"Обновить тренды"**
6. Наблюдайте progress bar! 🎉

### Шаг 2: Анализ данных

- Фильтруйте по странам
- Сортируйте по популярности
- Изучайте названия, каналы, статистику
- Находите паттерны успешных видео

### Шаг 3: Далее (в разработке)

- Скачивание выбранных видео
- Анализ контента
- Генерация похожих роликов
- Перевод на разные языки
- Загрузка на YouTube

---

## ❓ FAQ

**Q: Нужна ли MongoDB?**
A: Да, для хранения трендов. Можно использовать бесплатный MongoDB Atlas.

**Q: Сколько стоит YouTube API?**
A: Бесплатно 10,000 запросов в день. Обычно достаточно.

**Q: Как часто обновлять тренды?**
A: Рекомендуется 1-2 раза в день, чтобы не превысить квоту.

**Q: Можно ли добавить другие страны?**
A: Да! Отредактируйте `backend/src/config/countries.js`

**Q: Работает ли на Linux/Mac?**
A: Да, но измените скрипты запуска на .sh

---

## 🤝 Вклад в проект

Это ваш проект! Можете:
- ✅ Добавлять новые страны
- ✅ Улучшать UI/UX
- ✅ Оптимизировать API запросы
- ✅ Добавлять новые функции
- ✅ Исправлять баги

---

## 📜 Лицензия

MIT License - делайте что хотите! 🎉

---

## 🎉 Поздравляем!

Вы создали современное веб-приложение для мониторинга YouTube трендов в 19 странах! 

**Следующие шаги:**
1. Получите YouTube API ключ
2. Запустите приложение
3. Начните собирать данные о трендах
4. Анализируйте и создавайте контент!

**Удачи в создании вирусного контента! 🚀🎬**

---

*Создано с ❤️ для анализа YouTube трендов*
