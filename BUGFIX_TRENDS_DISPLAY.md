# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–Ω–¥—ã" –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Ä–∞–±–æ—Ç–∞–ª, –Ω–æ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–µ –ø–æ—è–≤–ª—è–ª–∏—Å—å.

## –ü—Ä–∏—á–∏–Ω–∞
1. **MongoDB –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞** - backend –ø—ã—Ç–∞–ª—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –∏ –ø–∞–¥–∞–ª
2. **Frontend –∂–¥–∞–ª –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î** - –¥–µ–ª–∞–ª `refetch()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ü–û–°–õ–ï–î–ù–ò–• —Ç—Ä–µ–Ω–¥–æ–≤ –∏–∑ MongoDB, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç
3. **–ù–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è** - –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è–ª–∏—Å—å

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Backend (`backend/src/routes/trends.js`)
```javascript
// –ë–´–õ–û: –ü–∞–¥–∞–ª–æ –µ—Å–ª–∏ MongoDB –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
const savedTrends = await Trend.create({...});

// –°–¢–ê–õ–û: –ü–æ–ø—ã—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è
try {
  savedTrends = await Trend.create({...});
  console.log('üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ MongoDB');
} catch (dbError) {
  console.log('‚ö†Ô∏è MongoDB –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
}

// –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É
res.json({
  success: true,
  data: result.trends,
  totalVideos: result.totalVideos,
  ...
});
```

### Frontend (`frontend/src/pages/TrendsPage.jsx`)
```javascript
// –î–û–ë–ê–í–õ–ï–ù–û: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
const [localTrends, setLocalTrends] = useState(null);

// –ë–´–õ–û: –¢–æ–ª—å–∫–æ –¥–µ–ª–∞–ª refetch (–ë–î)
onSuccess: () => {
  refetch();
}

// –°–¢–ê–õ–û: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ
onSuccess: (data) => {
  setLocalTrends({
    ...data,
    fetchedAt: new Date().toISOString()
  });
  refetch(); // –ü–æ–ø—ã—Ç–∫–∞ –∏–∑ –ë–î, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
}

// –ë–´–õ–û: –¢–æ–ª—å–∫–æ –∏–∑ –ë–î
const tableData = trendsData?.data?.data;

// –°–¢–ê–õ–û: –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –ë–î
const tableData = localTrends?.data || trendsData?.data?.data;
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–î–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –¥–∞–∂–µ –±–µ–∑ MongoDB  
‚úÖ **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏  
‚úÖ **–¢–∞–±–ª–∏—Ü–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è** –¥–∞–Ω–Ω—ã–º–∏  
‚úÖ **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è  

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

1. –ù–∞–∂–∏–º–∞–µ—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–Ω–¥—ã"
2. Backend –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ YouTube API
3. –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ë–î)
4. Frontend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`localTrends`)
5. –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
6. –ï—Å–ª–∏ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞ - –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç—É–¥–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
curl http://localhost:3000/health

# 2. –û—Ç–∫—Ä–æ–π—Ç–µ frontend
http://localhost:5173

# 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–¢—Ä–µ–Ω–¥—ã"
# 4. –ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–Ω–¥—ã"
# 5. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å
# 6. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è - –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ!
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏:
- **–í–∞—Ä–∏–∞–Ω—Ç 1:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MongoDB Atlas (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **–í–∞—Ä–∏–∞–Ω—Ç 2:** –î–æ–±–∞–≤—å—Ç–µ localStorage –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–∞—Ä–∏–∞–Ω—Ç 3:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ sessionStorage

–ü–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (—Å–±—Ä–æ—Å—è—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã).
